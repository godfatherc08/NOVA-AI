<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOVA - Shot Editor</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;600;700&family=Fira+Code&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">NOVA</div>
        <div class="scene-name">Scene</div>
        <div class="header-actions">
            <button class="header-btn">Export</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">

        <!-- Left Sidebar - Shot List -->
        <div class="shot-list">
            <div class="shot-list-header">Shots</div>
            <div class="shot-items">
                <div class="shot-item active">
                    <div class="shot-number">Shot 001</div>
                    <div class="shot-desc">Wide shot - Character enters room</div>
                </div>
            </div>
        </div>

        <!-- Center - Preview Area -->
        <div class="preview-area">
            <div class="preview-container">
                <div class="preview-placeholder">
                    <div class="preview-placeholder-icon">üé¨</div>
                    <img class="preview-image" src="{{ image_url }}" alt="generated image">
                </div>
            </div>
            <div class="preview-controls">
                <button class="control-btn">Download</button>

            </div>
        </div>

        <!-- Right Sidebar - Controls Panel -->
        <div class="controls-panel">
            <!-- Mode Switcher -->
            <div class="mode-switcher">
                <button class="mode-tab active" data-mode="params">Parameters</button>
            </div>

            <!-- Controls Content -->
            <div class="controls-content">
                <!-- Parameters Mode -->
                <div class="text-mode active">
                   <form method="post" action="/editor">
                        <input type="hidden" name="action" value="refine">
    <input type="hidden" name="structured_prompt" value="{{ structured_prompt }}">
    <input type="hidden" name="seed" value="{{ seed }}">
                    <!-- CAMERA GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üì∑ Camera</div>

                        <div class="param-section">
                            <div class="param-label">
                                Camera Angle
                                <span class="info-icon">i<span class="tooltip">Vertical angle of camera relative to subject</span></span>
                            </div>
                            <select class="param-select" id="camera_angle" name="camera_angle">
                                <option value="eye_level">Eye Level</option>
                                <option value="low_angle">Low Angle</option>
                                <option value="high_angle">High Angle</option>
                                <option value="dutch_angle">Dutch Angle / Tilt</option>
                                <option value="overhead">Overhead</option>
                                <option value="birds_eye">Bird's Eye</option>
                                <option value="worms_eye">Worm's Eye</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Shot Size
                                <span class="info-icon">i<span class="tooltip">How much of the subject is in frame</span></span>
                            </div>
                            <select class="param-select" id="shot_size" name="shot_size">
                                <option value="extreme_wide">Extreme Wide Shot (EWS)</option>
                                <option value="wide">Wide Shot (WS)</option>
                                <option value="full">Full Shot</option>
                                <option value="medium_wide">Medium Wide Shot</option>
                                <option value="medium">Medium Shot (MS)</option>
                                <option value="medium_close">Medium Close-Up (MCU)</option>
                                <option value="close_up">Close-Up (CU)</option>
                                <option value="extreme_close">Extreme Close-Up (ECU)</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Lens Focal Length (mm)
                                <span class="info-icon">i<span class="tooltip">8-24mm = wide, 35-50mm = standard, 85-200mm = telephoto</span></span>
                            </div>
                            <input type="number" class="param-input" name="lens" id="lens_mm" min="8" max="400" value="35" step="1">
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Camera Height (feet)
                                <span class="info-icon">i<span class="tooltip">Physical height from ground level</span></span>
                            </div>
                            <input type="range" class="param-slider" id="camera_height" name="camera_height" min="0" max="20" value="5" step="0.5">
                            <div class="slider-value">
                                <span>0 ft</span>
                                <span class="slider-current" id="camera_height_val">5.0 ft</span>
                                <span>20 ft</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Camera Movement
                                <span class="info-icon">i<span class="tooltip">Type of camera motion during shot</span></span>
                            </div>
                            <select class="param-select" id="camera_movement" name="camera_movement">
                                <option value="static">Static</option>
                                <option value="pan">Pan (horizontal)</option>
                                <option value="tilt">Tilt (vertical)</option>
                                <option value="dolly">Dolly (push/pull)</option>
                                <option value="track">Track / Truck</option>
                                <option value="crane">Crane / Jib</option>
                                <option value="handheld">Handheld</option>
                                <option value="steadicam">Steadicam</option>
                                <option value="gimbal">Gimbal</option>
                            </select>
                        </div>

                    </div>

                    <!-- LIGHTING GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üí° Lighting</div>

                        <div class="param-section">
                            <div class="param-label">
                                Lighting Type
                                <span class="info-icon">i<span class="tooltip">Overall lighting style and setup</span></span>
                            </div>
                            <select class="param-select" id="lighting_type" name="lighting_type">
                                <option value="natural">Natural</option>
                                <option value="low_key">Low Key (dramatic shadows)</option>
                                <option value="high_key">High Key (bright, minimal shadows)</option>
                                <option value="three_point">Three-Point Lighting</option>
                                <option value="rembrandt">Rembrandt</option>
                                <option value="butterfly">Butterfly</option>
                                <option value="split">Split Lighting</option>
                                <option value="silhouette">Silhouette</option>
                                <option value="chiaroscuro">Chiaroscuro</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Light Direction
                                <span class="info-icon">i<span class="tooltip">Primary light source direction</span></span>
                            </div>
                            <select class="param-select" id="light_direction" name="light_direction">
                                <option value="front">Front Light</option>
                                <option value="side">Side Light</option>
                                <option value="back">Back Light</option>
                                <option value="top">Top Light</option>
                                <option value="bottom">Bottom Light</option>
                                <option value="rim">Rim Light</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Color Temperature (Kelvin)
                                <span class="info-icon">i<span class="tooltip">2700K = warm/tungsten, 5600K = daylight, 7000K+ = cool</span></span>
                            </div>
                            <input type="number" class="param-input" id="color_temp" name="color_temp" min="2000" max="10000" value="5600" step="100">
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Time of Day
                                <span class="info-icon">i<span class="tooltip">Natural lighting time period</span></span>
                            </div>
                            <select class="param-select" id="time_of_day" name="time_of_day">
                                <option value="dawn">Dawn</option>
                                <option value="morning">Morning</option>
                                <option value="midday">Midday</option>
                                <option value="afternoon">Afternoon</option>
                                <option value="golden_hour">Golden Hour</option>
                                <option value="dusk">Dusk</option>
                                <option value="blue_hour">Blue Hour</option>
                                <option value="night">Night</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Shadow Intensity
                                <span class="info-icon">i<span class="tooltip">Darkness/strength of shadows (0.0 - 1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="shadow_intensity" name="shadow_intensity" min="0" max="1" value="0.5" step="0.1">
                            <div class="slider-value">
                                <span>Soft</span>
                                <span class="slider-current" id="shadow_intensity_val">0.5</span>
                                <span>Hard</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Highlight Intensity
                                <span class="info-icon">i<span class="tooltip">Brightness of highlights (0.0 - 1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="highlight_intensity" name="highlight_intensity" min="0" max="1" value="0.7" step="0.1">
                            <div class="slider-value">
                                <span>Dim</span>
                                <span class="slider-current" id="highlight_intensity_val">0.7</span>
                                <span>Bright</span>
                            </div>
                        </div>
                    </div>

                    <!-- COLOR GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üé® Color & Grading</div>

                        <div class="param-section">
                            <div class="param-label">
                                Color Grade Preset
                                <span class="info-icon">i<span class="tooltip">Overall color treatment style</span></span>
                            </div>
                            <select class="param-select" id="color_grade" name="color_grade">
                                <option value="natural">Natural</option>
                                <option value="warm">Warm</option>
                                <option value="cool">Cool</option>
                                <option value="desaturated">Desaturated</option>
                                <option value="noir">Film Noir</option>
                                <option value="sepia">Sepia</option>
                                <option value="teal_orange">Teal & Orange</option>
                                <option value="vintage">Vintage</option>
                                <option value="bleach_bypass">Bleach Bypass</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Saturation
                                <span class="info-icon">i<span class="tooltip">Color intensity (0.0-2.0, 1.0 = normal)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="saturation" name="saturation" min="0" max="2" value="1" step="0.1">
                            <div class="slider-value">
                                <span>0.0</span>
                                <span class="slider-current" id="saturation_val">1.0</span>
                                <span>2.0</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Contrast
                                <span class="info-icon">i<span class="tooltip">Difference between lights/darks (0.0-2.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="contrast" name="contrast" min="0" max="2" value="1" step="0.1">
                            <div class="slider-value">
                                <span>0.0</span>
                                <span class="slider-current" id="contrast_val">1.0</span>
                                <span>2.0</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Brightness
                                <span class="info-icon">i<span class="tooltip">Overall exposure (-2.0 to +2.0, 0 = normal)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="brightness" name="brightness" min="-2" max="2" value="0" step="0.1">
                            <div class="slider-value">
                                <span>-2.0</span>
                                <span class="slider-current" id="brightness_val">0.0</span>
                                <span>+2.0</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                HDR Mode
                                <span class="info-icon">i<span class="tooltip">High Dynamic Range - Extended luminance range</span></span>
                            </div>
                            <label style="display: flex; align-items: center; gap: 10px; font-size: 12px;">
                                <input type="checkbox" id="hdr_enabled" name="hdr_enabled"checked style="width: 18px; height: 18px; cursor: pointer;">
                                <span>Enable HDR</span>
                            </label>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Color Bit Depth
                                <span class="info-icon">i<span class="tooltip">Color precision - 16-bit recommended for cinema</span></span>
                            </div>
                            <select class="param-select" id="bit_depth" name="bit_depth">
                                <option value="8">8-bit (Standard)</option>
                                <option value="10">10-bit (Professional)</option>
                                <option value="16" selected>16-bit (Cinema Quality)</option>
                            </select>
                        </div>
                    </div>

                    <!-- FOCUS & DEPTH GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üéØ Focus & Depth</div>

                        <div class="param-section">
                            <div class="param-label">
                                Depth of Field
                                <span class="info-icon">i<span class="tooltip">Amount of background blur</span></span>
                            </div>
                            <select class="param-select" id="depth_of_field" name="depth_of_field">
                                <option value="shallow">Shallow (blurred background)</option>
                                <option value="medium">Medium</option>
                                <option value="deep">Deep (everything in focus)</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Aperture (F-stop)
                                <span class="info-icon">i<span class="tooltip">Lower = more blur (f/1.4-f/22)</span></span>
                            </div>
                            <input type="number" class="param-input" id="aperture" name="aperture" min="1.4" max="22" value="4" step="0.1">
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Focus Distance (feet)
                                <span class="info-icon">i<span class="tooltip">Distance to focus point</span></span>
                            </div>
                            <input type="number" class="param-input" id="focus_distance" name="focus_distance" min="1" max="100" value="10" step="0.5">
                        </div>
                    </div>

                    <!-- COMPOSITION GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üìê Composition</div>

                        <div class="param-section">
                            <div class="param-label">
                                Composition Rule
                                <span class="info-icon">i<span class="tooltip">Framing guideline for positioning</span></span>
                            </div>
                            <select class="param-select" id="composition_rule" name="composition_rule">
                                <option value="thirds">Rule of Thirds</option>
                                <option value="golden_ratio">Golden Ratio</option>
                                <option value="center">Centered</option>
                                <option value="symmetry">Symmetry</option>
                                <option value="diagonal">Diagonal</option>
                                <option value="frame_within">Frame Within Frame</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Subject Position
                                <span class="info-icon">i<span class="tooltip">Where subject is placed in frame</span></span>
                            </div>
                            <select class="param-select" id="subject_position" name="subject_position">
                                <option value="center">Center</option>
                                <option value="left">Left Third</option>
                                <option value="right">Right Third</option>
                                <option value="top">Top</option>
                                <option value="bottom">Bottom</option>
                                <option value="top_left">Top Left</option>
                                <option value="top_right">Top Right</option>
                                <option value="bottom_left">Bottom Left</option>
                                <option value="bottom_right">Bottom Right</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Aspect Ratio
                                <span class="info-icon">i<span class="tooltip">Frame dimensions</span></span>
                            </div>
                            <select class="param-select" id="aspect_ratio" name="aspect_ratio">
                                <option value="16:9">16:9 (Standard)</option>
                                <option value="2.39:1">2.39:1 (Anamorphic)</option>
                                <option value="1.85:1">1.85:1 (US Theatrical)</option>
                                <option value="4:3">4:3 (Classic TV)</option>
                                <option value="1:1">1:1 (Square)</option>
                                <option value="9:16">9:16 (Vertical)</option>
                            </select>
                        </div>
                    </div>

                    <!-- FILM AESTHETICS GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üéûÔ∏è Film Aesthetics</div>

                        <div class="param-section">
                            <div class="param-label">
                                Film Stock Emulation
                                <span class="info-icon">i<span class="tooltip">Film format to emulate</span></span>
                            </div>
                            <select class="param-select" id="film_stock" name="film_stock">
                                <option value="digital">Digital (Clean)</option>
                                <option value="35mm">35mm Film</option>
                                <option value="16mm">16mm Film</option>
                                <option value="8mm">8mm Film</option>
                                <option value="super8">Super 8</option>
                                <option value="imax">IMAX</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Grain Intensity
                                <span class="info-icon">i<span class="tooltip">Amount of film grain (0.0-1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="grain_intensity" name="grain_intensity" min="0" max="1" value="0.2" step="0.1">
                            <div class="slider-value">
                                <span>None</span>
                                <span class="slider-current" id="grain_intensity_val">0.2</span>
                                <span>Heavy</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Vignette
                                <span class="info-icon">i<span class="tooltip">Edge darkening intensity (0.0-1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="vignette" name="vignette" min="0" max="1" value="0.3" step="0.1">
                            <div class="slider-value">
                                <span>None</span>
                                <span class="slider-current" id="vignette_val">0.3</span>
                                <span>Strong</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Lens Distortion
                                <span class="info-icon">i<span class="tooltip">Barrel/pincushion effect (-1.0 to +1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="lens_distortion" name="lens_distortion" min="-1" max="1" value="0" step="0.1">
                            <div class="slider-value">
                                <span>-1.0</span>
                                <span class="slider-current" id="lens_distortion_val">0.0</span>
                                <span>+1.0</span>
                            </div>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Chromatic Aberration
                                <span class="info-icon">i<span class="tooltip">Color fringing on edges (0.0-1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="chromatic_aberration" name="chromatic_aberration" min="0" max="1" value="0" step="0.1">
                            <div class="slider-value">
                                <span>None</span>
                                <span class="slider-current" id="chromatic_aberration_val">0.0</span>
                                <span>Strong</span>
                            </div>
                        </div>
                    </div>

                    <!-- ENVIRONMENT GROUP -->
                    <div class="param-group">
                        <div class="param-group-title">üåç Environment</div>

                        <div class="param-section">
                            <div class="param-label">
                                Weather
                                <span class="info-icon">i<span class="tooltip">Environmental conditions</span></span>
                            </div>
                            <select class="param-select" id="weather" name="weather">
                                <option value="clear">Clear</option>
                                <option value="overcast">Overcast</option>
                                <option value="rain">Rain</option>
                                <option value="snow">Snow</option>
                                <option value="fog">Fog</option>
                                <option value="storm">Storm</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Atmosphere
                                <span class="info-icon">i<span class="tooltip">Overall mood</span></span>
                            </div>
                            <select class="param-select" id="atmosphere" name="atmosphere">
                                <option value="neutral">Neutral</option>
                                <option value="tense">Tense</option>
                                <option value="peaceful">Peaceful</option>
                                <option value="mysterious">Mysterious</option>
                                <option value="dramatic">Dramatic</option>
                                <option value="eerie">Eerie</option>
                                <option value="romantic">Romantic</option>
                            </select>
                        </div>

                        <div class="param-section">
                            <div class="param-label">
                                Fog Density
                                <span class="info-icon">i<span class="tooltip">Amount of fog/haze (0.0-1.0)</span></span>
                            </div>
                            <input type="range" class="param-slider" id="fog_density" name="fog_density" min="0" max="1" value="0" step="0.1">
                            <div class="slider-value">
                                <span>Clear</span>
                                <span class="slider-current" id="fog_density_val">0.0</span>
                                <span>Dense</span>
                            </div>
                        </div>
                    </div>
                       <button class="generate-btn" type="submit" value="refine">Refine Shot</button>
                       </form>
                </div>


            </div>
        </div>
    </div>

</body>
</html>